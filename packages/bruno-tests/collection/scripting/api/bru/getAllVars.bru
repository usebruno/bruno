meta {
  name: getAllVars
  type: http
  seq: 24
}

get {
  url: {{host}}/ping
  body: none
  auth: none
}

script:pre-request {
  bru.setVar("testGetAllVarsA", "alphaValue");
  bru.setVar("testGetAllVarsB", "betaValue");
}

tests {
  test("should return all runtime vars", function() {
    const vars = bru.getAllVars();
    expect(vars.testGetAllVarsA).to.equal("alphaValue");
    expect(vars.testGetAllVarsB).to.equal("betaValue");
  });

  test("should return a shallow copy", function() {
    const vars = bru.getAllVars();
    vars.testGetAllVarsA = "mutated";
    const vars2 = bru.getAllVars();
    expect(vars2.testGetAllVarsA).to.equal("alphaValue");
  });
}
