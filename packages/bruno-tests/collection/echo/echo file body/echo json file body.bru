meta {
  name: echo json file body
  type: http
  seq: 1
}

post {
  url: {{echo-host}}
  body: file
  auth: none
}

body:file {
  file: @file(file.json) @contentType(application/json; charset=utf-8)
}

tests {
  test("should return json file body contents buffer", function() {
    const data = res.getBody();
    expect(res.getBody()).to.eql({
      "type": "Buffer",
      "data": [
        123,
        10,
        32,
        32,
        34,
        104,
        101,
        108,
        108,
        111,
        34,
        58,
        32,
        34,
        98,
        114,
        117,
        110,
        111,
        34,
        10,
        125,
        10
      ]
    });
  });

  test("should return proper header", function() {
    const contentType = res.getHeader('content-type');
    expect(contentType).to.eql('application/json; charset=utf-8');
  });
}